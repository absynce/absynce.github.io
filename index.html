<!DOCTYPE html>
<html>
  <head>
    <!-- Google Analytics -->
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="assets/analytics/autotrack.js"></script>
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-6503929-3', 'auto');

      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker', {
        shouldTrackUrlChange: function(newPath, oldPath) {
          // Strips the query string from the path values.
          // newPath = newPath.split('?')[0];
          // oldPath = oldPath.split('?')[0];
          console.log(`oldPath: ${oldPath}`);
          console.log(`newPath: ${newPath}`);
          // TODO: Check/set page by post hash.

          return newPath != oldPath;
        }
      });

      ga('send', 'pageview');
    </script>
    <meta charset="utf-8">
    <title>absynce blog</title>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link href="assets/highlight/styles/solarized-dark.css" rel="stylesheet" />
    <link href="assets/css/main.css" rel="stylesheet" />
    <link href="assets/css/layout.css" rel="stylesheet" />
    <link href="assets/css/aside.css" rel="stylesheet" />
    <script src="assets/highlight/highlight.pack.js"></script>
    <script src="elm.js"></script>
  </head>
  <body id="page-body">
    <script>
      var requestAnimationFrame =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame;   //Cross browser support

      var app = Elm.Main.fullscreen();

      app.ports.initHighlighting.subscribe(function initHighlightJsCalled() {
        requestAnimationFrame(function callInitHighlighting() { // See https://stackoverflow.com/a/42451273/448876 for solution source.
          hljs.initHighlighting.called = false;
          hljs.initHighlighting();
        });
      });
    </script>
  </body>
</html>
